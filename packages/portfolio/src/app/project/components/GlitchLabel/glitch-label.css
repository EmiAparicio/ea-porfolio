@import '../../styles/glitch-core.css';

.glitch-label {
  position: relative;
  z-index: 2;

  --gl-state: running;
  --gl-clip-one: polygon(
    0 2%,
    100% 2%,
    100% 95%,
    95% 95%,
    95% 90%,
    85% 90%,
    85% 95%,
    8% 95%,
    0 70%
  );
  --gl-clip-two: polygon(
    0 78%,
    100% 78%,
    100% 100%,
    95% 100%,
    95% 90%,
    85% 90%,
    85% 100%,
    8% 100%,
    0 78%
  );
  --gl-clip-three: polygon(
    0 44%,
    100% 44%,
    100% 54%,
    95% 54%,
    95% 54%,
    85% 54%,
    85% 54%,
    8% 54%,
    0 54%
  );
  --gl-clip-four: polygon(
    0 0,
    100% 0,
    100% 0,
    95% 0,
    95% 0,
    85% 0,
    85% 0,
    8% 0,
    0 0
  );
  --gl-clip-five: polygon(
    0 0,
    100% 0,
    100% 0,
    95% 0,
    95% 0,
    85% 0,
    85% 0,
    8% 0,
    0 0
  );
  --gl-clip-six: polygon(
    0 40%,
    100% 40%,
    100% 85%,
    95% 85%,
    95% 85%,
    85% 85%,
    85% 85%,
    8% 85%,
    0 70%
  );
  --gl-clip-seven: polygon(
    0 63%,
    100% 63%,
    100% 80%,
    95% 80%,
    95% 80%,
    85% 80%,
    85% 80%,
    8% 80%,
    0 70%
  );
}
.glitch-text {
  position: relative;
  z-index: 0;
  filter: var(--gl-text-shadow, none);
}
.glitch-label::before,
.glitch-label::after {
  content: attr(data-title);
  position: absolute;
  inset: 0;
  white-space: pre-wrap;
  pointer-events: none;
  transform: translateZ(0);
  opacity: 0.5;
  z-index: 0;
}
.glitch-label::before {
  color: var(--gl-color-a);
  animation-name: cyber-glitch;
  animation-duration: calc(var(--gl-dur) * var(--gl-rate, 1));
  animation-timing-function: linear;
  animation-iteration-count: infinite;
  animation-delay: calc(var(--gl-dur) * (0 - var(--gl-phase, 0)));
  animation-play-state: var(--gl-state, running);
}
.glitch-label::after {
  color: var(--gl-color-b);
  animation-name: cyber-glitch;
  animation-duration: calc(var(--gl-dur) * var(--gl-rate, 1));
  animation-timing-function: linear;
  animation-iteration-count: infinite;
  animation-delay: calc(var(--gl-dur) * (-0.37 - var(--gl-phase, 0)));
  animation-play-state: var(--gl-state, running);
}
.glitch-full {
  position: absolute;
  inset: 0;
  white-space: inherit;
  pointer-events: none;
  transform: translateZ(0);
  opacity: 0;
  z-index: 0;
}
.glitch-full.a {
  color: var(--gl-color-a);
  opacity: 0;
  animation-name: cyber-glitch-full;
  animation-duration: calc(var(--gl-dur) * var(--gl-rate, 1));
  animation-timing-function: linear;
  animation-iteration-count: infinite;
  animation-delay: calc(var(--gl-dur) * (0 - var(--gl-phase, 0)));
  animation-play-state: var(--gl-state, running);
}
.glitch-full.b {
  color: var(--gl-color-b);
  opacity: 0;
  animation-name: cyber-glitch-full;
  animation-duration: calc(var(--gl-dur) * var(--gl-rate, 1));
  animation-timing-function: linear;
  animation-iteration-count: infinite;
  animation-delay: calc(var(--gl-dur) * (-0.21 - var(--gl-phase, 0)));
  animation-play-state: var(--gl-state, running);
}
.glitch-label[data-animate='1']::before,
.glitch-label[data-animate='1']::after,
.glitch-label[data-animate='1'] .glitch-full {
  will-change: transform, clip-path, filter, opacity;
}
.glitch-label[data-animate='0']::before,
.glitch-label[data-animate='0']::after,
.glitch-label[data-animate='0'] .glitch-full {
  animation-name: none !important;
  animation-duration: 0s !important;
  opacity: 0 !important;
  filter: none !important;
  transform: none !important;
}
@media (prefers-reduced-motion: reduce) {
  .glitch-label::before,
  .glitch-label::after,
  .glitch-full {
    animation-play-state: paused !important;
    animation: none !important;
  }
}
